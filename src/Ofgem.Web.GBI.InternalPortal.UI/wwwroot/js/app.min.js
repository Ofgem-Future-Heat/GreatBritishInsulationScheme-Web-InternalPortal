window, window.GOVUK = window.GOVUK || {}, window.GOVUK.cookie = function (e, n, i) { return void 0 !== n ? !1 === n || null === n ? window.GOVUK.setCookie(e, "", { days: -1 }) : (void 0 === i && (i = { days: 30 }), window.GOVUK.setCookie(e, n, i)) : window.GOVUK.getCookie(e) }, window.GOVUK.setCookie = function (e, n, i) { void 0 === i && (i = {}); var t = e + "=" + n + "; path=/;SameSite=None"; if (i.days) { var a = new Date; a.setTime(a.getTime() + 24 * i.days * 60 * 60 * 1e3), t = t + "; expires=" + a.toGMTString() } i.domain || (i.domain = window.GOVUK.getDomain()), "https:" === document.location.protocol && (t += "; Secure"), document.cookie = t + ";domain=" + i.domain }, window.GOVUK.getCookie = function (e) { for (var n = e + "=", i = document.cookie.split(";"), t = 0, a = i.length; t < a; t++) { for (var o = i[t]; " " === o.charAt(0);)o = o.substring(1, o.length); if (0 === o.indexOf(n)) return decodeURIComponent(o.substring(n.length)) } return null }, window.GOVUK.getDomain = function () { return -1 !== window.location.hostname.indexOf(".") ? "." + window.location.hostname.slice(window.location.hostname.indexOf(".") + 1) : window.location.hostname }, window.GOVUK.getEnv = function () { var e = window.location.hostname; return e.indexOf("at-") >= 0 ? "AT" : e.indexOf("test-") >= 0 ? "TEST" : e.indexOf("test2-") >= 0 ? "TEST2" : e.indexOf("pp-") >= 0 ? "PP" : "" }, (d = d || {}).forms = { init: function () { this.preventDoubleSubmit() }, preventDoubleSubmit: function () { $("form").not(".das-ajax-form").on("submit", (function (e) { var n = $(this).find(".govuk-button"); n.attr("disabled", "disabled"), setTimeout((function () { n.removeAttr("disabled") }), 2e4) })) } }; var e, n, i, t, a, o, s, d, l = document.getElementsByClassName("das-navigation__list"), u = document.getElementsByClassName("das-navigation__list-item"), r = 0, c = [], m = function () { if (e = l[0].offsetWidth - 80, n = document.querySelectorAll(".das-navigation__list > .das-navigation__list-item"), t = document.querySelectorAll(".das-navigation__priority-list > .das-navigation__list-item"), i = n.length, c[i - 1] > e) { var a = n[i -= 1]; g[0].insertBefore(a, g[0].childNodes[0]), $("#priority-list-menu").removeClass("govuk-visually-hidden"), m() } else if (e > c[i]) { if (t.length > 0) { var o = t[0], s = document.getElementsByClassName("das-navigation__priority-list-item"); l[0].insertBefore(o, s[0]), 1 === t.length && $("#priority-list-menu").addClass("govuk-visually-hidden") } i += 1 } }; if (l.length > 0) { for (var g = (a = $("<li />").addClass("das-navigation__priority-list-item govuk-visually-hidden").attr("id", "priority-list-menu"), o = $("<ul />").addClass("das-navigation__priority-list govuk-visually-hidden"), s = $("<a />").addClass("das-navigation__priority-button").attr("href", "#").text("More").on("click", (function (e) { $(g).toggleClass("govuk-visually-hidden"), $(this).toggleClass("open"), e.preventDefault() })), a.append(s, o).appendTo($(l).eq(0)), o), v = 0; v < u.length; v++) { r += u[v].offsetWidth, c.push(r) } m() } $(window).resize((function () { l.length > 0 && m() })), (d = d || {}).userNavigation = { elems: { settingsMenu: $("#das-user-navigation > ul") }, init: function () { this.setupMenus(this.elems.settingsMenu), this.setupEvents(this.elems.settingsMenu) }, setupMenus: function (e) { e.find("ul").attr("aria-expanded", "false") }, setupEvents: function (e) { var n = this; e.find("li.das-user-navigation__list-item--has-sub-menu").find("> a").on("click", (function (e) { var i = $(this); n.toggleMenu(i, i.next("ul")), e.stopPropagation(), e.preventDefault() })) }, toggleMenu: function (e, n) { var i = e.parent(); i.hasClass("das-user-navigation__sub-menu--open") ? (i.removeClass("das-user-navigation__sub-menu--open"), n.addClass("js-hidden").attr("aria-expanded", "false")) : (this.closeAllOpenMenus(), i.addClass("das-user-navigation__sub-menu--open"), n.removeClass("js-hidden").attr("aria-expanded", "true")) }, closeAllOpenMenus: function () { $("li.das-user-navigation__list-item--has-sub-menu").each((function () { var e = $(this), n = $(this).children("ul"), i = "das-user-navigation__sub-menu--open"; e.hasClass(i) && (e.removeClass(i), n.addClass("js-hidden").attr("aria-expanded", "false")) })) } }, $(document).click((function () { d.userNavigation.closeAllOpenMenus() })), (d = d || {}).backLink = function () { var e = $("<a>").attr({ href: "#", class: "govuk-back-link" }).text("Back").on("click", (function (e) { window.history.back(), e.preventDefault() })); $(".das-js-back-link").replaceWith(e) }, $("#das-user-navigation") && d.userNavigation.init(), $(".das-js-back-link") && d.backLink(), d.forms.init(), window.location.hostname !== window.GOVUK.getDomain() && (document.cookie = "DASSeenCookieMessage=false; path=/;SameSite=None; expires=Thu, 01 Jan 1970 00:00:01 GMT", document.cookie = "AnalyticsConsent=false; path=/;SameSite=None; expires=Thu, 01 Jan 1970 00:00:01 GMT", document.cookie = "MarketingConsent=false; path=/;SameSite=None; expires=Thu, 01 Jan 1970 00:00:01 GMT"), window.GOVUK.cookie("MarketingConsent", "", { days: -1 });